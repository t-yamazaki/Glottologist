"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */function b(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}function j(b,d,e,f){var g=d&&d.prototype instanceof m?d:m,h=Object.create(g.prototype),a=new E(f||[]);return J(h,"_invoke",{value:A(b,e,a)}),h}function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function m(){}function q(){}function w(){}function x(a){["next","throw","return"].forEach(function(c){b(a,c,function(a){return this._invoke(c,a)})})}function z(b,d){function c(e,f,g,i){var a=k(b[e],b,f);if("throw"!==a.type){var j=a.arg,l=j.value;return l&&"object"==_typeof(l)&&I.call(l,"__await")?d.resolve(l.__await).then(function(a){c("next",a,g,i)},function(a){c("throw",a,g,i)}):d.resolve(l).then(function(a){j.value=a,g(j)},function(a){return c("throw",a,g,i)})}i(a.arg)}var a;J(this,"_invoke",{value:function(b,f){function e(){return new d(function(a,d){c(b,f,a,d)})}return a=a?a.then(e,e):e()}})}function A(a,b,d){var e=i;return function(g,j){if(e===l)throw new Error("Generator is already running");if(e===f){if("throw"===g)throw j;return{value:G,done:!0}}for(d.method=g,d.arg=j;;){var m=d.delegate;if(m){var c=B(m,d);if(c){if(c===s)continue;return c}}if("next"===d.method)d.sent=d._sent=d.arg;else if("throw"===d.method){if(e===i)throw e=f,d.arg;d.dispatchException(d.arg)}else"return"===d.method&&d.abrupt("return",d.arg);e=l;var n=k(a,b,d);if("normal"===n.type){if(e=d.done?f:h,n.arg===s)continue;return{value:n.arg,done:d.done}}"throw"===n.type&&(e=f,d.method="throw",d.arg=n.arg)}}}function B(b,c){var d=c.method,e=b.iterator[d];if(e===G)return c.delegate=null,"throw"===d&&b.iterator["return"]&&(c.method="return",c.arg=G,B(b,c),"throw"===c.method)||"return"!==d&&(c.method="throw",c.arg=new TypeError("The iterator does not provide a '"+d+"' method")),s;var f=k(e,b.iterator,c.arg);if("throw"===f.type)return c.method="throw",c.arg=f.arg,c.delegate=null,s;var g=f.arg;return g?g.done?(c[b.resultName]=g.value,c.next=b.nextLoc,"return"!==c.method&&(c.method="next",c.arg=G),c.delegate=null,s):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,s)}function C(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function D(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function E(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(C,this),this.reset(!0)}function F(a){if(a||""===a){var b=a[K];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(I.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=G,b.done=!0,b};return d.next=d}}throw new TypeError(_typeof(a)+" is not iterable")}_regeneratorRuntime=function(){return H};var G,H={},e=Object.prototype,I=e.hasOwnProperty,J=Object.defineProperty||function(a,b,c){a[b]=c.value},n="function"==typeof Symbol?Symbol:{},K=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";try{b({},"")}catch(a){b=function(a,b,c){return a[b]=c}}H.wrap=j;var i="suspendedStart",h="suspendedYield",l="executing",f="completed",s={},o={};b(o,K,function(){return this});var p=Object.getPrototypeOf,d=p&&p(p(F([])));d&&d!==e&&I.call(d,K)&&(o=d);var r=w.prototype=m.prototype=Object.create(o);return q.prototype=w,J(r,"constructor",{value:w,configurable:!0}),J(w,"constructor",{value:q,configurable:!0}),q.displayName=b(w,c,"GeneratorFunction"),H.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===q||"GeneratorFunction"===(b.displayName||b.name))},H.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,w):(a.__proto__=w,b(a,c,"GeneratorFunction")),a.prototype=Object.create(r),a},H.awrap=function(a){return{__await:a}},x(z.prototype),b(z.prototype,a,function(){return this}),H.AsyncIterator=z,H.async=function(b,c,d,e,f){void 0===f&&(f=Promise);var g=new z(j(b,c,d,e),f);return H.isGeneratorFunction(c)?g:g.next().then(function(a){return a.done?a.value:g.next()})},x(r),b(r,c,"Generator"),b(r,K,function(){return this}),b(r,"toString",function(){return"[object Generator]"}),H.keys=function(a){var b=Object(a),c=[];for(var d in b)c.push(d);return c.reverse(),function a(){for(;c.length;){var d=c.pop();if(d in b)return a.value=d,a.done=!1,a}return a.done=!0,a}},H.values=F,E.prototype={constructor:E,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=G,this.done=!1,this.delegate=null,this.method="next",this.arg=G,this.tryEntries.forEach(D),!a)for(var b in this)"t"===b.charAt(0)&&I.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=G)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(b){function d(a,c){return h.type="throw",h.arg=b,e.next=a,c&&(e.method="next",e.arg=G),!!c}if(this.done)throw b;for(var e=this,f=this.tryEntries.length-1;0<=f;--f){var g=this.tryEntries[f],h=g.completion;if("root"===g.tryLoc)return d("end");if(g.tryLoc<=this.prev){var a=I.call(g,"catchLoc"),i=I.call(g,"finallyLoc");if(a&&i){if(this.prev<g.catchLoc)return d(g.catchLoc,!0);if(this.prev<g.finallyLoc)return d(g.finallyLoc)}else if(!a){if(!i)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return d(g.finallyLoc)}else if(this.prev<g.catchLoc)return d(g.catchLoc,!0)}}},abrupt:function(b,c){for(var d,e=this.tryEntries.length-1;0<=e;--e)if(d=this.tryEntries[e],d.tryLoc<=this.prev&&I.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var f=d;break}f&&("break"===b||"continue"===b)&&f.tryLoc<=c&&c<=f.finallyLoc&&(f=null);var g=f?f.completion:{};return g.type=b,g.arg=c,f?(this.method="next",this.next=f.finallyLoc,s):this.complete(g)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),s},finish:function(a){for(var b,c=this.tryEntries.length-1;0<=c;--c)if(b=this.tryEntries[c],b.finallyLoc===a)return this.complete(b.completion,b.afterLoc),D(b),s},catch:function(a){for(var b,c=this.tryEntries.length-1;0<=c;--c)if(b=this.tryEntries[c],b.tryLoc===a){var d=b.completion;if("throw"===d.type){var e=d.arg;D(b)}return e}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:F(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=G),s}},H}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"==_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!=_typeof(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Glottologist=function(){function Glottologist(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en";_classCallCheck(this,Glottologist),this.data={},this.lang="undefined"==typeof window?a:navigator.language||navigator.userLanguage}return _createClass(Glottologist,[{key:"assign",value:function(a,b){var c={};c[a]=b,this.data=Object.assign(this.data,c)}},{key:"autoGen",value:function(){var a=_asyncToGenerator(_regeneratorRuntime().mark(function a(b,c){var d,e,f,g,h;return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d={},e=_createForOfIteratorHelper(c),a.prev=2,e.s();case 4:if((f=e.n()).done){a.next=12;break}return g=f.value,a.next=8,this.t(b,g);case 8:h=a.sent,d[g]=h;case 10:a.next=4;break;case 12:a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](2),e.e(a.t0);case 17:return a.prev=17,e.f(),a.finish(17);case 20:this.assign(b,d);case 21:case"end":return a.stop();}},a,this,[[2,14,17,20]])}));return function(){return a.apply(this,arguments)}}()},{key:"get",value:function(name){var lang=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"auto",obj=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},data={};"object"==_typeof(lang)&&(data=lang,lang="string"==typeof obj?obj:"auto");var tmp,result;return"auto"==lang?(tmp=this.data[name][new String(this.lang).split("-")[0]],result=void 0==tmp?this.data[name][Object.keys(this.data[name])[0]]:tmp):(tmp=this.data[name][lang],result=void 0==tmp?this.data[name][Object.keys(this.data[name])[0]]:tmp),eval("`"+result+"`")}},{key:"import",value:function(a){var b=this;return new Promise(function(c,d){fetch(a).then(function(a){a.json().then(function(a){b.data=Object.assign(b.data,a),c(a)})["catch"](function(a){d(a)})})["catch"](function(a){d(a)})})}},{key:"render",value:function(){for(var a,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"auto",c=document.querySelectorAll("[glot-model]"),d=0;d<c.length;d++)a=c[d].getAttribute("glot-model"),c[d].innerHTML=this.get(a,b)}},{key:"t",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"en",c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"auto";return new Promise(function(d,f){var e="https://translate.googleapis.com/translate_a/single?client=gtx&sl="+c+"&tl="+b+"&dt=t&q="+encodeURI(a);fetch(e).then(function(a){a.json().then(function(a){d(a[0][0][0])})["catch"](function(a){f(a)})})["catch"](function(a){f(a)})})}}]),Glottologist}();"function"==typeof define&&define.amd?define(function(){return new Glottologist}):"undefined"==typeof exports?"undefined"!=typeof global&&(global.Glottologist=new Glottologist):("undefined"!=typeof module&&module.exports&&(exports=module.exports=new Glottologist),exports.Glottologist=new Glottologist);